# 网络层

> 网络层的主要作用是：**实现主机与主机之间的通信，也叫点对点（end to end）通信。**

因为网络层是整个互联网的核心，因此应当让网络层尽可能简单。网络层向上只提供简单灵活的、无连接的、尽最大努力交互的数据报服务。



## IP 协议

使用 IP 协议，可以把异构的物理网络连接起来，使得在网络层看起来好像是一个统一的网络。

![](https://images.yingwai.top/picgo/20210820165223.png)

### IP 地址

在 TCP/IP ⽹络通信时，为了保证能正常通信，每个设备都需要配置正确的 IP 地址，否则⽆法实现正常的通信。

> IP 地址（IPv4 地址）由 `32` 位正整数来表示，IP 地址在计算机是以⼆进制的⽅式处理的。

![](https://images.yingwai.top/picgo/20210820165504.png)

因此 IP 地址最大值是 `2^32 = 4294967296`，就是说最大允许 43 亿台计算机连接到网络。

#### IP 地址的分类

IP 地址分类成了 5 种类型，分别是 A 类、B 类、C 类、D 类、E 类。

![](https://images.yingwai.top/picgo/20210820165733.png)

上图中⻩⾊部分为分类号，⽤以区分 IP 地址类别。



## 网际控制报文协议 ICMP

ICMP 是为了更有效地转发 IP 数据报和提高交付成功的机会。它封装在 IP 数据报中，但是不属于高层协议。

